## Brief

- 监听币对 list (`{X}/USDT`)，同时获取 **Bybit** 和 **Jupiter** 的价格

| Bybit > Jupiter | Jupiter > Bybit |
|-----------------|-----------------|
| 在Jupiter买X | 在Bybit买X |
| 转账到Bybit | 转账到Jupiter |
| Bybit换成USDT | Jupiter换成USDT |

- 资金量约 \$80（初始100，测试10，留10作为gas）  
- 为避免频繁提现产生 withdrawal fee（如SOL为0.008），两种模式交替进行  
- 每次 all in，资金存于单个交易所，另一方出现价差时无法交易

## 缺陷

- B→J 流程中，Jupiter 卖单允许 100% 滑点，因 all in 策略下无法成交会导致资金锁死

|  | B → J | J → B |
|------|--------------|--------------|
| **买单** | Limit Order (IOC) | 100% 滑点 |
| **卖单** | 100% 滑点 | Market Order |

## 自动化执行

使用 `execute_arbitrage(base_coin, direction)` 函数自动执行完整套利流程：

1. 自动检测当前 USDT 余额（根据方向从对应交易所加载）
2. 验证套利机会是否仍然盈利
3. 执行三步流程：买入 → 提币 → 卖出
4. 记录并显示实际利润与预期利润的对比

参数：
- `base_coin`: 代币符号（如 "SOL"）
- `direction`: 方向（"B→J" 或 "J→B"）

示例：
```python
from main.workflows.execute_arbitrage import execute_arbitrage
result = execute_arbitrage("SOL", "J→B")
```

## 潜在改进

- 双边保留资金，避免跨平台转账和提币费用
- 研究 CEX-CEX 多链路兑换方案
- 自动监控链上充值状态，取代手动确认
